<!DOCTYPE html>

<html>

    <head>

        <meta charset="UTF-8">
        <link rel="stylesheet" href="reset.css">
        <link rel="stylesheet" href="style.css">
        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
        <meta name="viewport" content="width=device-width">
        <title>Encriptador de texto</title>
        
    </head>

    <body>

        <header class="parteArriba">
            <img class="candadoImg" src="imagenes/candado.png">
            <h1 class="titulo">Encriptador de texto</h1>
            <p class="aviso">&#9888 No se aceptan numeros, mayusculas o caracteres especiales.</p>
            
        </header>

        <section class="central">
            
            <div class="divIzquierda">

                <main>
                    <form id="formulario">  
                        <textarea class="textoAreas" id="textoIngresado" cols="50" rows="15" placeholder="Ingresa un mensaje"></textarea>
                    </form> 
                    
                </main>
                
                <footer>
                    <input class="boton1" type="button" value="Encriptar" onclick="return encriptar();">
                    <input class="boton2" type="button" value="Desencriptar" onclick="return desencriptar();">

                </footer>
                                       
            </div>

            <div class="divDerecha">
                <main>
                    <textarea class="textoAreas" id="textoFinal" cols="50" rows="15" readonly="readonly" placeholder="No hay texto encriptado"></textarea>
                </main>
                
                <footer>
                    <input id="botonCopiar" class="botonCopy" type="button" value="Copiar" onclick="return copiar();">
                    <input id="botonLimpiar" type="button" class="botonClear" value="Borrar" onclick="borrar();">
                </footer>
            
            </div>
        </section>

        <footer class="parteAbajo">

            <img class="logoAlura" src="imagenes/LogoAlura.png">
            <p>Desarrollado por Sebastian Zu√±iga R.</p><br>
            <p>Alumno Alura Latam 2022</p>

        </footer>

        <script>

            var caracteres = /[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~{0-9}{A-Z}]/;
            
            var resultado = "";

            function encriptar(texto){
                var texto = document.getElementById("textoIngresado").value;

                if(texto === ""){

                    alerta("No hay mensaje.");
                    }else{

                        if(caracteres.test(texto)){

                            alerta("Caracter no valido.")
                            }else{

                                resultado = texto.replaceAll("e", "enter")
                                                .replaceAll("i", "imes")
                                                .replaceAll("a", "ai")
                                                .replaceAll("o", "ober")
                                                .replaceAll("u", "ufat");
                                
                                formulario.reset();
                                document.getElementById("textoFinal").innerHTML=resultado;
                            
                            }   
                    }
            }
                
            function desencriptar(texto){

                var texto = document.getElementById("textoIngresado").value;

                if(texto === ""){                

                    alerta("No hay mensaje.");
                    }else{

                        if(caracteres.test(texto)){  

                            
                            alerta("Caracter no valido.");
                            }else{

                                resultado = texto.replaceAll("enter", "e")
                                                .replaceAll("imes", "i")
                                                .replaceAll("ai", "a")
                                                .replaceAll("ober", "o")
                                                .replaceAll("ufat", "u");
                                
                                formulario.reset();
                                document.getElementById("textoFinal").innerHTML=resultado;

                            }
                    }                 
            }

            function copiar(){

                var textarea = document.getElementById("textoFinal");
                var valor = textarea.value;
                
                navigator.clipboard.writeText(valor);

                if(valor !== ""){
                    alerta("Copiado.");

                }else{
                    alerta("No hay mensaje.");

                }
       
            }
                                                                              
            function borrar(){
                document.getElementById("textoIngresado").value = "";
                document.getElementById("textoFinal").innerHTML = "";
            }

            function alerta(mensaje){

                swal({
                        
                    title:mensaje,
                    button: false,
                    timer: 1100
                        
                });

            }
                   
            

        </script>
                     
    </body>
</html>